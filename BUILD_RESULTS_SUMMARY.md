# Abstractæ ‘å’ŒCuckoo Filteræ„å»ºç»“æœæ€»ç»“

## âœ… å·²å®Œæˆçš„æ•°æ®é›†æ„å»º

### 1. TriviaQAæ•°æ®é›† âœ…
- **å®ä½“æ•°é‡**: 20,375 ä¸ª
- **æˆåŠŸæ˜ å°„**: 17,750 / 20,375 (87.1%)
- **Abstractæ•°é‡**: 69,192 ä¸ª
- **Chunkæ•°é‡**: 138,384 ä¸ª
- **Cuckoo Filterå®¹é‡**: 40,750
- **AbstractTreeæ•°é‡**: 1 ä¸ª
- **çŠ¶æ€**: âœ… æ„å»ºæˆåŠŸ

### 2. DARTæ•°æ®é›† âœ…
- **å®ä½“æ•°é‡**: 1,838 ä¸ª
- **æˆåŠŸæ˜ å°„**: 1,781 / 1,838 (96.9%)
- **Abstractæ•°é‡**: 1,384 ä¸ª
- **Chunkæ•°é‡**: 2,768 ä¸ª
- **Cuckoo Filterå®¹é‡**: 3,676
- **AbstractTreeæ•°é‡**: 1 ä¸ª
- **çŠ¶æ€**: âœ… æ„å»ºæˆåŠŸ

### 3. MedQAæ•°æ®é›† â³
- **çŠ¶æ€**: å¾…ç¡®è®¤æˆ–å¾…æ„å»º

---

## ğŸ“Š æ„å»ºç»Ÿè®¡å¯¹æ¯”

| æ•°æ®é›† | å®ä½“æ•° | æ˜ å°„æ•° | æ˜ å°„ç‡ | Abstracts | Chunks | çŠ¶æ€ |
|--------|--------|--------|--------|-----------|--------|------|
| TriviaQA | 20,375 | 17,750 | 87.1% | 69,192 | 138,384 | âœ… |
| DART | 1,838 | 1,781 | 96.9% | 1,384 | 2,768 | âœ… |
| MedQA | - | - | - | - | - | â³ |

---

## ğŸ¯ æŸ¥è¯¢é˜¶æ®µï¼ˆsearch_method=7ï¼‰æµç¨‹

æ‰€æœ‰å·²æ„å»ºçš„æ•°æ®é›†ç°åœ¨éƒ½å¯ä»¥ä½¿ç”¨search_method=7è¿›è¡ŒæŸ¥è¯¢ï¼š

1. âœ… **å®ä½“è¯†åˆ«**: Queryæ¥äº†ä¹‹åï¼Œä½¿ç”¨spacyæå–queryä¸­çš„å®ä½“
2. âœ… **Cuckoo FilteræŸ¥æ‰¾**: åœ¨Cuckoo Filterä¸­æŸ¥æ‰¾è¿™äº›å®ä½“ â†’ `get_entity_abstract_addresses_from_cuckoo()`
3. âœ… **è·å–pair_ids**: Cuckoo Filterè¿”å›EntityAddrï¼ˆå—çŠ¶é“¾è¡¨ï¼‰ï¼Œé‡Œé¢å­˜å‚¨çš„æ˜¯abstractçš„pair_ids
4. âœ… **æ‰¾åˆ°chunks**: é€šè¿‡pair_idsæ‰¾åˆ°å¯¹åº”çš„chunksï¼ˆpair_id * 2 å’Œ pair_id * 2 + 1ï¼‰
5. âœ… **è®¡ç®—ç›¸ä¼¼åº¦**: è®¡ç®—queryå’Œchunksçš„ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œé€‰top k
6. âœ… **è·å–abstracts**: ä»é€‰ä¸­çš„chunksæ‰¾åˆ°å¯¹åº”çš„abstractsï¼ˆpair_id = chunk_id // 2ï¼‰
7. âœ… **æ„å»ºcontext**: 
   - ä¿¡æ¯ï¼ˆchunksï¼‰: `source_knowledge`
   - æ‘˜è¦ï¼ˆabstractsï¼‰: `abstract_knowledge`
   - é—®é¢˜: `query`

---

## ğŸ“ ä¸‹ä¸€æ­¥æ“ä½œ

### å¦‚æœMedQAè¿˜æœªæ„å»ºï¼Œè¯·è¿è¡Œï¼š

```bash
cd /Users/zongyikun/Downloads/CFT-RAG-2025-main
/Users/zongyikun/opt/anaconda3/envs/python310_arm/bin/python3 build_abstract_and_cuckoo.py --dataset medqa
```

### æ„å»ºå®Œæˆåï¼Œå¯ä»¥ï¼š

1. âœ… **è¿è¡ŒBenchmarkæµ‹è¯•**: ä½¿ç”¨search_method=7æµ‹è¯•æŸ¥è¯¢åŠŸèƒ½
2. âœ… **å¯¹æ¯”Baseline RAG**: å¯¹æ¯”Baselineï¼ˆsearch_method=0ï¼‰å’ŒCuckoo Filter RAGï¼ˆsearch_method=7ï¼‰çš„æ•ˆæœ
3. âœ… **éªŒè¯æŸ¥è¯¢æµç¨‹**: ç¡®ä¿æ‰€æœ‰æ­¥éª¤éƒ½æ­£å¸¸å·¥ä½œ

---

## ğŸ” æ˜ å°„ç‡åˆ†æ

- **DARTæ˜ å°„ç‡96.9%**: éå¸¸é«˜ï¼Œè¯´æ˜å¤§éƒ¨åˆ†å®ä½“éƒ½åœ¨chunksä¸­æ‰¾åˆ°äº†å¯¹åº”å†…å®¹
- **TriviaQAæ˜ å°„ç‡87.1%**: è‰¯å¥½ï¼Œä»æœ‰çº¦13%çš„å®ä½“æœªæ˜ å°„ï¼Œå¯èƒ½æ˜¯ï¼š
  - å®ä½“åç§°åœ¨chunksä¸­çš„è¡¨ç°å½¢å¼ä¸åŒ
  - å®ä½“å¯èƒ½ä¸åœ¨ä»»ä½•chunkä¸­
  - å­—ç¬¦ä¸²åŒ¹é…çš„å±€é™æ€§

---

## âœ… æ„å»ºå®Œæˆç¡®è®¤

- [x] TriviaQAæ•°æ®é›†æ„å»ºæˆåŠŸ
- [x] DARTæ•°æ®é›†æ„å»ºæˆåŠŸ
- [ ] MedQAæ•°æ®é›†æ„å»ºï¼ˆå¾…ç¡®è®¤ï¼‰

æ‰€æœ‰æ„å»ºæˆåŠŸçš„æ•°æ®é›†ç°åœ¨éƒ½å¯ä»¥ä½¿ç”¨search_method=7è¿›è¡ŒæŸ¥è¯¢æµ‹è¯•ï¼


